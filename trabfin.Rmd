---
output:
  html_document: default
  pdf_document: default
  word_document: default
---

<head>

```{=html}
<style>
    h1{
    text-align: center;
    color:lightblue
    }
    p{text-align: justify;
    font-size:17px;
    text-indent: 2em;
    }
    td{
    font-size: 17px
    }
    div.imag {
      margin-left: auto;
      margin-right: auto;
      width: 38%;
      transform: scale(1.15);
    }
    div.imag_2 {
      margin-left: auto;
      margin-right: auto;
      width: 27%;
    }
    div.imag_1 {
      margin-left: auto;
      margin-right: auto;
      width: 50%;
      padding: 50px;
      transform: scale(2.0);
    }

    div.imag_3 {
      margin-left: auto;
      margin-right: auto;
      width: 50%;
      padding: 50px;
      transform: scale(1.5);
    }
    p.leg{
      text-align: left;
      width:210px; 
      border: 0px solid black; 
      margin: 0 auto;
    }
    p.legenda_1{
      text-align: left;
      width: 235px; 
      border: 0px solid black; 
      margin: 0 auto;
    }

    div.histor {
      margin-left: auto;
      margin-right: auto;
      width:65%;
    }
     div.cent {
      margin-left: auto;
      margin-right: auto;
      width:75%;
      
    }
    div.histor_1 {
      margin-left: auto;
      margin-right: auto;
      width:65%;
      transform: scale(1.1);
    }
    div.remove pre{
    display: none;
    }
    div.histor pre{
    display: none;
    }
    div.abaixar{
    aling:center;
    }
    div.diminuir{
     aling:center;
    
    }

  </style>
```

</head>

<body>

::: {.imag style="text-aling:center"}
![](https://mostra.caerus.pt/wp-content/uploads/2021/04/ISCTE_Logo.png)
:::

<hr>

<h1 style="font-size: 40px;">

**RELATÓRIO DE AED**

</h1>

<p style="text-align:center;font-size: 15px;">

Março de 2025

</p>

<br>
<h4>Trabalho realizado por:</h4>

<ul>

<td>Dinis Cardoso, nº 105663</td>

<br>

<td>Luana Pinto, nº 111145</td>

<br>

<td>Nuno Matos, nº 111102</td>

<br>

<td>Tomás Mendes, nº 110612</td>

<br>

</ul>

O presente documento foi construído para a Unidade Curricular Análise de Exploratória de Dados, da Licenciatura em Ciência de Dados do Iscte-IUL.

### Introdução

Este relatório apresenta uma análise exploratória dos dados relativos ao estudo "Saúde Psicológica e Bem-Estar", promovido pelo Ministério da Educação em 2022, após o período de pandemia Covid-19. O principal objetivo deste estudo é diagnosticar e compreender o panorama da saúde psicológica e bem-estar das crianças e adolescentes em idade escolar em diferentes regiões de Portugal. Os dados analisados referem-se a um excerto das respostas dos alunos (ou dos seus educadores) ao questionário aplicado.

### Metodologia

A preparação e organização do conjunto de dados e correspondente análise descritiva, em função do contexto e objetivos definidos foi realizada utilizando o Excel, Jamovi e R. Começaremos por abordar a descrição dos dados e as questões de qualidade, incluindo tratamento de valores omissos, duplicados e inconsistências.

```{r setup, include=FALSE, echo=FALSE}
library(DescTools)
library(flextable)
library(descr)
#Importar os ficheiros do Excel
Sys.setlocale("LC_ALL", "Portuguese_Portugal.UTF-8")
library(openxlsx)
bd <- read.xlsx("Trabalho_ecell.xlsx")
#Mudar o nome de duas variáveis Variáveis da base de dados
colnames(bd)
names(bd)[4] = "valor_genero"
names(bd)[9] = "satisfacao_vida"
paste("Existem",sum(bd$satisfacao_vida == 99),"valores omissos")
media_antes <- mean(bd$satisfacao_vida)
bd$satisfacao_vida[bd$satisfacao_vida == 99] <- NA
bd$satisfacao_vida[is.na(bd$satisfacao_vida)] <- median(bd$satisfacao_vida, na.rm = TRUE)
media_depois <- mean(bd$satisfacao_vida)
paste("Média antes de inputar os valores omissos:",round(media_antes,2),"\n Média depois de inputar os valores omissos com mediana", round(media_depois,2))
```

Valores descritivos

```{r, include=FALSE, echo=FALSE}
library(DescTools)
library(flextable)
library(descr)
valores <- as.numeric(bd$satisfacao_vida)
descr(valores)

```

```{r, include=TRUE, echo=FALSE}

freq_abs <- table(valores)
freq_rel <- prop.table(freq_abs) * 100

tabela_freq <- data.frame(
  "Valor" = names(freq_abs),
  "Frequência Absoluta" = as.vector(freq_abs),
  "Frequência Relativa (%)" = round(as.vector(freq_rel), 2)
)

# Exibir a tabela
tabela_freq
```

Histograma de frequências absolutas

```{r, include=TRUE, echo=FALSE}

h <- hist(valores,
          main = "Distribuição de Satisfação com a Vida", 
          xlab = "Satisfação com a Vida", 
          ylab = "Frequência", 
          col = "lightblue", 
          )

```

```{r, include=TRUE, echo=FALSE}
boxplot(valores, 
        main = "Boxplot da Satisfação com a Vida", 
        ylab = "Satisfação com a Vida", 
        col = "lightgreen")
```

uni

```{r, include=TRUE, echo=FALSE}
library(ggplot2)

# Definir os 7 títulos (ou sintomas)
specie <- c(
  rep("A", 4),  # 4 repetições para o título "A"
  rep("B", 4),  # 4 repetições para o título "B"
  rep("C", 4),  # 4 repetições para o título "C"
  rep("D", 4),  # 4 repetições para o título "D"
  rep("E", 4),  # 4 repetições para o título "E"
  rep("F", 4),  # 4 repetições para o título "F"
  rep("G", 4)   # 4 repetições para o título "G"
)

# Verificar o comprimento de 'specie'
length(specie)  # Deve retornar 28 (7 títulos * 4 géneros)

# Replicar 'bd$Género' para corresponder ao comprimento de 'specie' (4 géneros por título)
condition <- rep(bd$Género, length.out = length(specie))

# Definir as médias das colunas de ansiedade
mean_values <- c(
  mean(bd$v38_ansiedade),
  mean(bd$v40_ansiedade),
  mean(bd$v43_ansiedade),
  mean(bd$v45_ansiedade),
  mean(bd$v51_ansiedade),
  mean(bd$v55_ansiedade),
  mean(bd$v56_ansiedade)
)

# Replicar as médias para corresponder ao comprimento de 'specie'
value <- rep(mean_values, length.out = length(specie))

# Criar o dataframe
data <- data.frame(specie, condition, value)

# Criar o gráfico de barras agrupadas
ggplot(data, aes(fill = condition, y = value, x = specie)) + 
  geom_bar(position = "dodge", stat = "identity") +
  labs(
    title = "Níveis de Ansiedade por Gênero",
    x = "Sintomas",
    y = "Média de Ansiedade"
  ) 


```
