---
output:
  html_document: default
  pdf_document: default
  word_document: default
---

<head>

```{=html}
<style>
    h1{
    text-align: center;
    color:lightblue
    }
    p{text-align: justify;
    font-size:17px;
    text-indent: 2em;
    }
    td{
    font-size: 17px
    }
    div.imag {
      margin-left: auto;
      margin-right: auto;
      width: 38%;
      transform: scale(1.15);
    }
    div.imag_2 {
      margin-left: auto;
      margin-right: auto;
      width: 27%;
    }
    div.imag_1 {
      margin-left: auto;
      margin-right: auto;
      width: 50%;
      padding: 50px;
      transform: scale(2.0);
    }

    div.imag_3 {
      margin-left: auto;
      margin-right: auto;
      width: 50%;
      padding: 50px;
      transform: scale(1.5);
    }
    p.leg{
      text-align: left;
      width:210px; 
      border: 0px solid black; 
      margin: 0 auto;
    }
    p.legenda_1{
      text-align: left;
      width: 235px; 
      border: 0px solid black; 
      margin: 0 auto;
    }

    div.histor {
      margin-left: auto;
      margin-right: auto;
      width:65%;
    }
     div.cent {
      margin-left: auto;
      margin-right: auto;
      width:75%;
      
    }
    div.histor_1 {
      margin-left: auto;
      margin-right: auto;
      width:65%;
      transform: scale(1.1);
    }
    div.remove pre{
    display: none;
    }
    div.histor pre{
    display: none;
    }
    div.abaixar{
    aling:center;
    }
    div.diminuir{
     aling:center;
    
    }

  </style>
```

</head>

<body>

::: {.imag style="text-aling:center"}
![](https://mostra.caerus.pt/wp-content/uploads/2021/04/ISCTE_Logo.png)
:::

<hr>

<h1 style="font-size: 40px;">

**RELATÓRIO DE AED - CASO PRÁTICO - AMBIENTE 10**

</h1>

<p style="text-align:center;font-size: 15px;">

Março de 2025

</p>

<br>

<h4>Trabalho realizado por:</h4>

<ul>

<td>Leandro Bernardo, nº 125293</td>
<br>
<td>Paula Relvas, nº 43905</td>
<br>
<td>Pedro Gonçalves, nº 130668</td>
<br>
<td>Ricardo Fonseca, nº 130650</td>
<br>
<td>Tiago Oeber, nº 130667</td>
<br>

O presente documento foi construído para a Unidade Curricular Análise de Exploratória de Dados, da Licenciatura em Ciência de Dados do Iscte-IUL.

<br>

</ul>

<h3>**1. TRATAMENTO DE DADOS**</h3>

<br>

<p> 

</p>

<h4>**INTRODUÇÃO**</h4>

<br>

A ansiedade e o bem-estar emocional constituem dois pilares essenciais para a compreensão da saúde mental. A ansiedade, enquanto resposta natural do organismo a situações de stress ou perigo, manifesta-se através de sentimentos de preocupação, medo e tensão. Embora essa reação seja intrínseca à nossa natureza, ela pode tornar-se prejudicial quando se intensifica de forma excessiva ou persistente, afetando o quotidiano e o funcionamento psicológico do indivíduo. <br>

Por sua vez, o bem-estar emocional diz respeito à capacidade de gerir as emoções, enfrentar desafios e manter um equilíbrio psicológico estável, o conceito envolve a satisfação com a vida, a resiliência frente às adversidades e o sentimento de controlo sobre os próprios pensamentos e emoções. Um elevado nível de bem-estar emocional está frequentemente associado a uma melhor qualidade de vida, relações interpessoais enriquecedoras e maior produtividade em diversas esferas da vida. <br>

A interação entre ansiedade e bem-estar emocional revela-se complexa e multifacetada. Enquanto um determinado grau de ansiedade pode funcionar como um estímulo para a motivação e o desempenho, a sua presença crónica e elevada tende a comprometer o equilíbrio emocional, prejudicando a saúde mental do indivíduo. Diversos fatores, como o ambiente familiar, o contexto social, o nível de stress e os hábitos de vida, exercem uma influência significativa na regulação da ansiedade e na promoção do bem-estar. <br>

Observa-se que, nos últimos anos, o fenômeno da ansiedade tem recebido atenção crescente, sobretudo entre os jovens. Questões como o uso intensivo das redes sociais, a pressão no âmbito académico e profissional, bem como a instabilidade socioeconómica, são apontadas como contribuintes para o aumento dos níveis de ansiedade na sociedade contemporânea. <br>

Nesse sentido, a promoção do bem-estar emocional passa pela implementação de estratégias eficazes de gestão do stress. A prática regular de exercício físico, a adoção de hábitos de vida saudáveis, o fortalecimento das redes de apoio e o desenvolvimento de competências emocionais são fundamentais para a melhoria da saúde mental. Além disso, a conscientização acerca da importância do cuidado com a saúde psicológica, aliada à disponibilização de recursos de apoio, reveste-se de caráter indispensável para auxiliar os indivíduos a lidar com a ansiedade e, assim, alcançar uma vida mais plena e equilibrada.

<br>

<h4>**Metodologia**</h4>

<br>

A preparação e organização do conjunto de dados e correspondente análise descritiva, em função do contexto e objetivos definidos foi realizada utilizando o Excel, Jamovi e R. Começaremos por abordar a descrição dos dados e as questões de qualidade, incluindo tratamento de valores omissos, duplicados e inconsistências.

```{r setup, include=FALSE, echo=TRUE}
library(DescTools)
library(flextable)
library(descr)
#Importar os ficheiros do Excel
Sys.setlocale("LC_ALL", "Portuguese_Portugal.UTF-8")
library(openxlsx)
bd <- read.xlsx("Trabalho_ecell.xlsx")
#Mudar o nome de duas variáveis Variáveis da base de dados
colnames(bd)
names(bd)[4] = "valor_genero"
names(bd)[9] = "satisfacao_vida"
paste("Existem",sum(bd$satisfacao_vida == 99),"valores omissos")
media_antes <- mean(bd$satisfacao_vida)
bd$satisfacao_vida[bd$satisfacao_vida == 99] <- NA
bd$satisfacao_vida[is.na(bd$satisfacao_vida)] <- median(bd$satisfacao_vida, na.rm = TRUE)
media_depois <- mean(bd$satisfacao_vida)
paste("Média antes de inputar os valores omissos:",round(media_antes,2),"\n Média depois de inputar os valores omissos com mediana", round(media_depois,2))
#Lidar com os valores omissos das outras variaveis
bd$v38_ansiedade[bd$v38_ansiedade == 99] <- NA
bd$v38_ansiedade[is.na(bd$v38_ansiedade)] <- median(bd$v38_ansiedade, na.rm = TRUE)
bd$v40_ansiedade[bd$v40_ansiedade == 99] <- NA
bd$v40_ansiedade[is.na(bd$v40_ansiedade)] <- median(bd$v40_ansiedade, na.rm = TRUE)
bd$v43_ansiedade[bd$v43_ansiedade == 99] <- NA
bd$v43_ansiedade[is.na(bd$v43_ansiedade)] <- median(bd$v43_ansiedade, na.rm = TRUE)
bd$v45_ansiedade[bd$v45_ansiedade == 99] <- NA
bd$v45_ansiedade[is.na(bd$v45_ansiedade)] <- median(bd$v45_ansiedade, na.rm = TRUE)
bd$v51_ansiedade[bd$v51_ansiedade == 99] <- NA
bd$v51_ansiedade[is.na(bd$v51_ansiedade)] <- median(bd$v51_ansiedade, na.rm = TRUE)
bd$v55_ansiedade[bd$v55_ansiedade == 99] <- NA
bd$v55_ansiedade[is.na(bd$v55_ansiedade)] <- median(bd$v55_ansiedade, na.rm = TRUE)
bd$v56_ansiedade[bd$v56_ansiedade == 99] <- NA
bd$v56_ansiedade[is.na(bd$v56_ansiedade)] <- median(bd$v56_ansiedade, na.rm = TRUE)
bd$AF_Q554[bd$AF_Q554 == 99] <- NA
bd$AF_Q554[is.na(bd$AF_Q554)] <- median(bd$AF_Q554, na.rm = TRUE)
```

Valores descritivos

```{r}
#Frequencia de idades

valores <- as.numeric(bd$P3)

h <- hist(valores,
          main = "Distribuição da idade", 
          xlab = "P3", 
          ylab = "Frequência", 
          col = "green", 
          )
```

```{r}
#Tabela entre idades e ansiedades
library(ggplot2)

# Definir os 7 títulos (ou sintomas)
specie <- c(
  rep("A", 4),  # 4 repetições para o título "A"
  rep("B", 4),  # 4 repetições para o título "B"
  rep("C", 4),  # 4 repetições para o título "C"
  rep("D", 4),  # 4 repetições para o título "D"
  rep("E", 4),  # 4 repetições para o título "E"
  rep("F", 4),  # 4 repetições para o título "F"
  rep("G", 4)   # 4 repetições para o título "G"
)

# Verificar o comprimento de 'specie'
length(specie)  # Deve retornar 28 (7 títulos * 4 géneros)

# Replicar 'bd$Género' para corresponder ao comprimento de 'specie' (4 géneros por título)
condition <- rep(bd$P3, length.out = length(specie))

# Definir as médias das colunas de ansiedade
mean_values <- c(
  mean(bd$v38_ansiedade),
  mean(bd$v40_ansiedade),
  mean(bd$v43_ansiedade),
  mean(bd$v45_ansiedade),
  mean(bd$v51_ansiedade),
  mean(bd$v55_ansiedade),
  mean(bd$v56_ansiedade)
)

# Replicar as médias para corresponder ao comprimento de 'specie'
value <- rep(mean_values, length.out = length(specie))

# Criar o dataframe
data <- data.frame(specie, condition, value)

# Criar o gráfico de barras agrupadas
ggplot(data, aes(fill = condition, y = value, x = specie)) + 
  geom_bar(position = "dodge", stat = "identity") +
  labs(
    title = "Níveis de Ansiedade por Idade",
    x = "Sintomas",
    y = "Média de Ansiedade"
  ) 
```


```{r, include=FALSE, echo=FALSE}
library(DescTools)
library(flextable)
library(descr)
valores <- as.numeric(bd$satisfacao_vida)
descr(valores)
```

```{r, include=TRUE, echo=FALSE}

freq_abs <- table(valores)
freq_rel <- prop.table(freq_abs) * 100

tabela_freq <- data.frame(
  "Valor" = names(freq_abs),
  "Frequência Absoluta" = as.vector(freq_abs),
  "Frequência Relativa (%)" = round(as.vector(freq_rel), 2)
)

# Exibir a tabela
tabela_freq
```

Histograma de frequências absolutas

```{r, include=TRUE, echo=FALSE}

h <- hist(valores,
          main = "Distribuição de Satisfação com a Vida", 
          xlab = "Satisfação com a Vida", 
          ylab = "Frequência", 
          col = "lightblue", 
          )

```

```{r, include=TRUE, echo=FALSE}
boxplot(valores, 
        main = "Boxplot da Satisfação com a Vida", 
        ylab = "Satisfação com a Vida", 
        col = "lightgreen")
```

uni

```{r, include=TRUE, echo=FALSE}
library(ggplot2)

# Definir os 7 títulos (ou sintomas)
specie <- c(
  rep("A", 4),  # 4 repetições para o título "A"
  rep("B", 4),  # 4 repetições para o título "B"
  rep("C", 4),  # 4 repetições para o título "C"
  rep("D", 4),  # 4 repetições para o título "D"
  rep("E", 4),  # 4 repetições para o título "E"
  rep("F", 4),  # 4 repetições para o título "F"
  rep("G", 4)   # 4 repetições para o título "G"
)

# Verificar o comprimento de 'specie'
length(specie)  # Deve retornar 28 (7 títulos * 4 géneros)

# Replicar 'bd$Género' para corresponder ao comprimento de 'specie' (4 géneros por título)
condition <- rep(bd$Género, length.out = length(specie))

# Definir as médias das colunas de ansiedade
mean_values <- c(
  mean(bd$v38_ansiedade),
  mean(bd$v40_ansiedade),
  mean(bd$v43_ansiedade),
  mean(bd$v45_ansiedade),
  mean(bd$v51_ansiedade),
  mean(bd$v55_ansiedade),
  mean(bd$v56_ansiedade)
)

# Replicar as médias para corresponder ao comprimento de 'specie'
value <- rep(mean_values, length.out = length(specie))

# Criar o dataframe
data <- data.frame(specie, condition, value)

# Criar o gráfico de barras agrupadas
ggplot(data, aes(fill = condition, y = value, x = specie)) + 
  geom_bar(position = "dodge", stat = "identity") +
  labs(
    title = "Níveis de Ansiedade por Gênero",
    x = "Sintomas",
    y = "Média de Ansiedade"
  ) 


```
